2025-06-12 11:38:12.551 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 11:38:12.735 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 11:38:12.736 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 11:38:12.737 +05:30 [INF] Hosting environment: Development
2025-06-12 11:38:12.737 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 11:39:04.772 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 72
2025-06-12 11:39:04.840 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 11:39:04.954 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 6:09:04 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 11:39:04.974 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 6:09:04 AM'.
2025-06-12 11:39:04.980 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 11:39:05.004 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 11:39:06.928 +05:30 [INF] Executed DbCommand (66ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 11:39:07.599 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 11:39:07.614 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 11:39:07.638 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 2628.5214ms
2025-06-12 11:39:07.643 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 11:39:07.656 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 2889.8471ms
2025-06-12 11:39:47.079 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses - null null
2025-06-12 11:39:47.109 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 11:39:47.116 +05:30 [INF] Route matched with {action = "GetAll", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 11:39:47.122 +05:30 [INF] Fetching all courses. Page: 1, PageSize: 10
2025-06-12 11:39:47.152 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 11:39:47.153 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 11:39:47.162 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE NOT (c."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-06-12 11:39:47.204 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 11:39:47.218 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI) in 101.8125ms
2025-06-12 11:39:47.218 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 11:39:47.219 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses - 200 null application/json; charset=utf-8 139.5998ms
2025-06-12 11:41:55.291 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - null null
2025-06-12 11:41:55.307 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 3:58:14 AM', Current time (UTC): '6/12/2025 6:11:55 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 11:41:55.308 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 3:58:14 AM', Current time (UTC): '6/12/2025 6:11:55 AM'.
2025-06-12 11:41:55.312 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Instructor)
2025-06-12 11:41:55.320 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 11:41:55.320 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - 401 0 null 28.9506ms
2025-06-12 11:42:20.576 +05:30 [INF] Application is shutting down...
2025-06-12 11:59:38.921 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 11:59:39.102 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 11:59:39.104 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 11:59:39.105 +05:30 [INF] Hosting environment: Development
2025-06-12 11:59:39.105 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 12:24:10.396 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 72
2025-06-12 12:24:10.476 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 12:24:10.581 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 6:54:10 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 12:24:10.615 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 6:54:10 AM'.
2025-06-12 12:24:10.625 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 12:24:10.659 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 12:24:11.023 +05:30 [INF] Login attempt for user manosundar@gmail.com
2025-06-12 12:24:12.760 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 12:24:13.806 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 12:24:13.818 +05:30 [INF] User manosundar@gmail.com logged in successfully
2025-06-12 12:24:13.824 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:24:13.848 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 3183.1077ms
2025-06-12 12:24:13.856 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 12:24:13.869 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 3477.7968ms
2025-06-12 12:27:02.424 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - application/json 83
2025-06-12 12:27:02.429 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 12:27:02.438 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ElearnAPI.DTOs.RegisterDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 12:27:02.465 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-12 12:27:02.505 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI) in 66.4472ms
2025-06-12 12:27:02.505 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 12:27:02.505 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - 400 null application/problem+json; charset=utf-8 81.2475ms
2025-06-12 12:28:44.290 +05:30 [INF] Application is shutting down...
2025-06-12 12:28:55.662 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 12:28:55.848 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 12:28:55.850 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 12:28:55.850 +05:30 [INF] Hosting environment: Development
2025-06-12 12:28:55.851 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 12:29:02.500 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - application/json 83
2025-06-12 12:29:02.568 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 12:29:02.606 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 12:29:02.631 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ElearnAPI.DTOs.RegisterDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 12:29:02.973 +05:30 [INF] Registering user muthu@gmail.com with role Student
2025-06-12 12:29:04.478 +05:30 [INF] Executed DbCommand (66ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 12:29:04.514 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Name" = @__name_0
LIMIT 1
2025-06-12 12:29:05.140 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "RoleId", "UpdatedAt", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsDeleted";
2025-06-12 12:29:05.164 +05:30 [INF] User muthu@gmail.com registered successfully
2025-06-12 12:29:05.173 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UserDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 12:29:05.206 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI) in 2569.7945ms
2025-06-12 12:29:05.211 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 12:29:05.224 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - 200 null application/json; charset=utf-8 2728.5519ms
2025-06-12 12:29:33.067 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 12:29:33.140 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 6:59:33 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 12:29:33.156 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 6:59:33 AM'.
2025-06-12 12:29:33.156 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 12:29:33.163 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 12:29:33.186 +05:30 [INF] Login attempt for user muthu@gmail.com
2025-06-12 12:29:33.215 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 12:29:33.627 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 12:29:33.630 +05:30 [INF] User muthu@gmail.com logged in successfully
2025-06-12 12:29:33.630 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:29:33.632 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 469.2238ms
2025-06-12 12:29:33.633 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 12:29:33.633 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 566.3009ms
2025-06-12 12:29:50.779 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses - null null
2025-06-12 12:29:50.806 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 12:29:50.811 +05:30 [INF] Route matched with {action = "GetAll", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 12:29:50.822 +05:30 [INF] Fetching all courses. Page: 1, PageSize: 10
2025-06-12 12:29:50.916 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 12:29:50.918 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 12:29:50.936 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE NOT (c."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-06-12 12:29:50.970 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:29:50.977 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI) in 165.4654ms
2025-06-12 12:29:50.978 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 12:29:50.978 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses - 200 null application/json; charset=utf-8 199.0958ms
2025-06-12 12:30:12.059 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c4285b - null null
2025-06-12 12:30:12.061 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 7:00:12 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 12:30:12.062 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 7:00:12 AM'.
2025-06-12 12:30:12.066 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2025-06-12 12:30:12.072 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 12:30:12.073 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c4285b - 401 0 null 13.5051ms
2025-06-12 12:31:27.269 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c4285b - null null
2025-06-12 12:31:27.271 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 7:01:27 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 12:31:27.271 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 7:01:27 AM'.
2025-06-12 12:31:27.274 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2025-06-12 12:31:27.275 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 12:31:27.276 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c4285b - 401 0 null 6.4961ms
2025-06-12 12:31:35.695 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c4285b - null null
2025-06-12 12:31:35.697 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:31:35.702 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:31:35.722 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 12:31:35.723 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" retrieved their enrolled courses.
2025-06-12 12:31:35.724 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:31:35.736 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 33.3753ms
2025-06-12 12:31:35.736 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:31:35.736 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c4285b - 200 null application/json; charset=utf-8 41.6756ms
2025-06-12 12:31:50.418 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - null null
2025-06-12 12:31:50.418 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-12 12:31:50.419 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-12 12:31:50.419 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - 405 0 null 1.6298ms
2025-06-12 12:32:02.334 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - null null
2025-06-12 12:32:02.335 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-12 12:32:02.336 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-12 12:32:02.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - 405 0 null 1.4168ms
2025-06-12 12:32:11.471 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - null null
2025-06-12 12:32:11.472 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:32:11.472 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:32:11.478 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 12:32:11.478 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" retrieved their enrolled courses.
2025-06-12 12:32:11.479 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:32:11.479 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 6.6396ms
2025-06-12 12:32:11.479 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:32:11.480 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - 200 null application/json; charset=utf-8 8.7693ms
2025-06-12 12:33:00.822 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c4285b - null null
2025-06-12 12:33:00.823 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:33:00.823 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:33:00.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 12:33:00.826 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" retrieved their enrolled courses.
2025-06-12 12:33:00.827 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:33:00.827 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 3.3567ms
2025-06-12 12:33:00.827 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:33:00.827 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c4285b - 200 null application/json; charset=utf-8 5.1459ms
2025-06-12 12:34:04.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c428 - null null
2025-06-12 12:34:04.903 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:34:04.904 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:34:04.917 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 12:34:04.917 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" retrieved their enrolled courses.
2025-06-12 12:34:04.917 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:34:04.918 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 14.0492ms
2025-06-12 12:34:04.918 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:34:04.918 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c428 - 200 null application/json; charset=utf-8 15.6544ms
2025-06-12 12:34:44.723 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c428 - null 0
2025-06-12 12:34:44.724 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-12 12:34:44.724 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-12 12:34:44.724 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/enrollments?courseId=01976230-0cd0-7b58-b101-db5056c428 - 405 0 null 1.3088ms
2025-06-12 12:35:26.869 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/enrollments - application/json 58
2025-06-12 12:35:26.869 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-12 12:35:26.869 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-12 12:35:26.869 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/enrollments - 405 0 null 0.7669ms
2025-06-12 12:38:44.275 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/enrollments - application/json 58
2025-06-12 12:38:44.276 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-12 12:38:44.276 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-12 12:38:44.277 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/enrollments - 405 0 null 1.6081ms
2025-06-12 12:40:07.331 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - null 0
2025-06-12 12:40:07.333 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 12:40:07.337 +05:30 [INF] Route matched with {action = "Enroll", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Enroll(System.Guid) on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:40:07.388 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 12:40:07.435 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("CourseId", "UserId", "EnrolledAt")
VALUES (@p0, @p1, @p2);
2025-06-12 12:40:07.436 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" successfully enrolled in course "01976230-0cd0-7b58-b101-db5056c4285b".
2025-06-12 12:40:07.437 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:40:07.438 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI) in 100.639ms
2025-06-12 12:40:07.438 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 12:40:07.439 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - 200 null application/json; charset=utf-8 107.2061ms
2025-06-12 12:40:14.612 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - null null
2025-06-12 12:40:14.613 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:40:14.613 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:40:14.615 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 12:40:14.616 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" retrieved their enrolled courses.
2025-06-12 12:40:14.616 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:40:14.621 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 8.2707ms
2025-06-12 12:40:14.621 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:40:14.622 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - 200 null application/json; charset=utf-8 10.0457ms
2025-06-12 12:40:30.610 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/019755e3-b46c-7cd3-853a-2f8c60ee7d8b - null null
2025-06-12 12:40:30.621 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 6:12:46 PM', Current time (UTC): '6/12/2025 7:10:30 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 12:40:30.622 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 6:12:46 PM', Current time (UTC): '6/12/2025 7:10:30 AM'.
2025-06-12 12:40:30.622 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2025-06-12 12:40:30.623 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 12:40:30.623 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/019755e3-b46c-7cd3-853a-2f8c60ee7d8b - 401 0 null 13.3256ms
2025-06-12 12:41:07.243 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/019755e3-b46c-7cd3-853a-2f8c60ee7d8b - null null
2025-06-12 12:41:07.245 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 12:41:07.248 +05:30 [INF] Route matched with {action = "DownloadFiles", controller = "StudentDownload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFiles(System.Guid) on controller ElearnAPI.Controllers.StudentDownloadController (ElearnCourseAPI).
2025-06-12 12:41:07.251 +05:30 [INF] Student requested file list for course "019755e3-b46c-7cd3-853a-2f8c60ee7d8b"
2025-06-12 12:41:07.256 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 12:41:07.257 +05:30 [WRN] Student "019762ef-629a-77a7-9c1f-327d213ceae2" attempted to access course "019755e3-b46c-7cd3-853a-2f8c60ee7d8b" without enrollment
2025-06-12 12:41:07.261 +05:30 [INF] Executing ForbidResult with authentication schemes (["You are not enrolled in this course."]).
2025-06-12 12:41:07.268 +05:30 [INF] Executed action ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI) in 19.89ms
2025-06-12 12:41:07.269 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 12:41:07.271 +05:30 [ERR] Unhandled exception caught by middleware
System.InvalidOperationException: No authentication handler is registered for the scheme 'You are not enrolled in this course.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("You are not enrolled in this course.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at ElearnAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI/Middleware/ErrorHandlingMiddleware.cs:line 25
2025-06-12 12:41:07.291 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/019755e3-b46c-7cd3-853a-2f8c60ee7d8b - 500 null application/json 47.4779ms
2025-06-12 12:41:37.565 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976230-0cd0-7b58-b101-db5056c4285b - null null
2025-06-12 12:41:37.566 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 12:41:37.566 +05:30 [INF] Route matched with {action = "DownloadFiles", controller = "StudentDownload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFiles(System.Guid) on controller ElearnAPI.Controllers.StudentDownloadController (ElearnCourseAPI).
2025-06-12 12:41:37.567 +05:30 [INF] Student requested file list for course "01976230-0cd0-7b58-b101-db5056c4285b"
2025-06-12 12:41:37.574 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 12:41:37.593 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CourseId", u."FileName", u."FileType", u."Path", u."UploadedAt"
FROM "UploadedFiles" AS u
WHERE u."CourseId" = @__courseId_0
2025-06-12 12:41:37.633 +05:30 [INF] Returning 1 files for student "019762ef-629a-77a7-9c1f-327d213ceae2" in course "01976230-0cd0-7b58-b101-db5056c4285b"
2025-06-12 12:41:37.634 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType5`3[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:41:37.639 +05:30 [INF] Executed action ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI) in 72.0985ms
2025-06-12 12:41:37.639 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 12:41:37.639 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976230-0cd0-7b58-b101-db5056c4285b - 200 null application/json; charset=utf-8 73.9055ms
2025-06-12 12:41:54.183 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/download/d345ed30-2673-4981-b9be-eb38b5985e9d - null null
2025-06-12 12:41:54.184 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 6:12:46 PM', Current time (UTC): '6/12/2025 7:11:54 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 12:41:54.185 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 6:12:46 PM', Current time (UTC): '6/12/2025 7:11:54 AM'.
2025-06-12 12:41:54.185 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2025-06-12 12:41:54.186 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 12:41:54.186 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/download/d345ed30-2673-4981-b9be-eb38b5985e9d - 401 0 null 2.3021ms
2025-06-12 12:42:22.001 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 12:42:22.002 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 12:42:22.002 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 12:42:22.008 +05:30 [INF] Login attempt for user muthu@gmail.com
2025-06-12 12:42:22.012 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 12:42:22.201 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 12:42:22.201 +05:30 [INF] User muthu@gmail.com logged in successfully
2025-06-12 12:42:22.202 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:42:22.202 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 199.0376ms
2025-06-12 12:42:22.202 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 12:42:22.202 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 200.6692ms
2025-06-12 12:42:40.634 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/download/d345ed30-2673-4981-b9be-eb38b5985e9d - null null
2025-06-12 12:42:40.635 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFile (ElearnCourseAPI)'
2025-06-12 12:42:40.640 +05:30 [INF] Route matched with {action = "DownloadFile", controller = "StudentDownload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFile(System.Guid) on controller ElearnAPI.Controllers.StudentDownloadController (ElearnCourseAPI).
2025-06-12 12:42:40.645 +05:30 [INF] Download request received for file "d345ed30-2673-4981-b9be-eb38b5985e9d"
2025-06-12 12:42:40.654 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CourseId", u."FileName", u."FileType", u."Path", u."UploadedAt"
FROM "UploadedFiles" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-12 12:42:40.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 12:42:40.671 +05:30 [INF] Serving file "d345ed30-2673-4981-b9be-eb38b5985e9d" to student "019762ef-629a-77a7-9c1f-327d213ceae2"
2025-06-12 12:42:40.672 +05:30 [INF] Executing FileContentResult, sending file with download name 'file_example_MP4_480_1_5MG.mp4' ...
2025-06-12 12:42:40.696 +05:30 [INF] Executed action ElearnAPI.Controllers.StudentDownloadController.DownloadFile (ElearnCourseAPI) in 56.4538ms
2025-06-12 12:42:40.697 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFile (ElearnCourseAPI)'
2025-06-12 12:42:40.697 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/download/d345ed30-2673-4981-b9be-eb38b5985e9d - 200 1570024 application/octet-stream 63.4135ms
2025-06-12 12:44:02.838 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/download/d345ed30-2673-4981-b9be-eb38b5985e9d - null null
2025-06-12 12:44:02.839 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 7:14:02 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 12:44:02.840 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/10/2025 5:28:32 PM', Current time (UTC): '6/12/2025 7:14:02 AM'.
2025-06-12 12:44:02.840 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2025-06-12 12:44:02.840 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 12:44:02.840 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/download/d345ed30-2673-4981-b9be-eb38b5985e9d - 401 0 null 2.3185ms
2025-06-12 12:47:04.055 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5295/api/v1/enrollments/019755e3-b46c-7cd3-853a-2f8c60ee7d8b - null null
2025-06-12 12:47:04.057 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.Unenroll (ElearnCourseAPI)'
2025-06-12 12:47:04.060 +05:30 [INF] Route matched with {action = "Unenroll", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Unenroll(System.Guid) on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:47:04.095 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."UserId", e."CourseId", e."EnrolledAt"
FROM "Enrollments" AS e
WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1
LIMIT 1
2025-06-12 12:47:04.096 +05:30 [INF] Unenroll failed. Enrollment not found for user "019762ef-629a-77a7-9c1f-327d213ceae2" in course "019755e3-b46c-7cd3-853a-2f8c60ee7d8b".
2025-06-12 12:47:04.097 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:47:04.098 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.Unenroll (ElearnCourseAPI) in 37.1049ms
2025-06-12 12:47:04.098 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.Unenroll (ElearnCourseAPI)'
2025-06-12 12:47:04.098 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5295/api/v1/enrollments/019755e3-b46c-7cd3-853a-2f8c60ee7d8b - 404 null application/json; charset=utf-8 43.6066ms
2025-06-12 12:47:24.978 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - null null
2025-06-12 12:47:24.979 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:47:24.979 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:47:24.985 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 12:47:24.985 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" retrieved their enrolled courses.
2025-06-12 12:47:24.986 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:47:24.986 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 6.3473ms
2025-06-12 12:47:24.986 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:47:24.986 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - 200 null application/json; charset=utf-8 8.3002ms
2025-06-12 12:47:42.496 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - null null
2025-06-12 12:47:42.497 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.Unenroll (ElearnCourseAPI)'
2025-06-12 12:47:42.497 +05:30 [INF] Route matched with {action = "Unenroll", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Unenroll(System.Guid) on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:47:42.499 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."UserId", e."CourseId", e."EnrolledAt"
FROM "Enrollments" AS e
WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1
LIMIT 1
2025-06-12 12:47:42.512 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Enrollments"
WHERE "CourseId" = @p0 AND "UserId" = @p1;
2025-06-12 12:47:42.517 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" successfully unenrolled from course "01976230-0cd0-7b58-b101-db5056c4285b".
2025-06-12 12:47:42.517 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:47:42.518 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.Unenroll (ElearnCourseAPI) in 20.1206ms
2025-06-12 12:47:42.518 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.Unenroll (ElearnCourseAPI)'
2025-06-12 12:47:42.518 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - 200 null application/json; charset=utf-8 22.1566ms
2025-06-12 12:47:50.754 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - null null
2025-06-12 12:47:50.754 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:47:50.755 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 12:47:50.757 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 12:47:50.758 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" retrieved their enrolled courses.
2025-06-12 12:47:50.758 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 12:47:50.758 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 3.338ms
2025-06-12 12:47:50.758 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 12:47:50.759 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - 200 null application/json; charset=utf-8 5.0538ms
2025-06-12 12:48:03.354 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976230-0cd0-7b58-b101-db5056c4285b - null null
2025-06-12 12:48:03.355 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 12:48:03.355 +05:30 [INF] Route matched with {action = "DownloadFiles", controller = "StudentDownload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFiles(System.Guid) on controller ElearnAPI.Controllers.StudentDownloadController (ElearnCourseAPI).
2025-06-12 12:48:03.356 +05:30 [INF] Student requested file list for course "01976230-0cd0-7b58-b101-db5056c4285b"
2025-06-12 12:48:03.358 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 12:48:03.358 +05:30 [WRN] Student "019762ef-629a-77a7-9c1f-327d213ceae2" attempted to access course "01976230-0cd0-7b58-b101-db5056c4285b" without enrollment
2025-06-12 12:48:03.358 +05:30 [INF] Executing ForbidResult with authentication schemes (["You are not enrolled in this course."]).
2025-06-12 12:48:03.359 +05:30 [INF] Executed action ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI) in 3.6789ms
2025-06-12 12:48:03.359 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 12:48:03.360 +05:30 [ERR] Unhandled exception caught by middleware
System.InvalidOperationException: No authentication handler is registered for the scheme 'You are not enrolled in this course.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("You are not enrolled in this course.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at ElearnAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI/Middleware/ErrorHandlingMiddleware.cs:line 25
2025-06-12 12:48:03.361 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976230-0cd0-7b58-b101-db5056c4285b - 500 null application/json 6.9878ms
2025-06-12 13:17:16.166 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - application/json 92
2025-06-12 13:17:16.168 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 13:17:16.169 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ElearnAPI.DTOs.RegisterDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 13:17:16.174 +05:30 [INF] Registering user ramkumar@gmail.com with role Instructor
2025-06-12 13:17:16.198 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 13:17:16.204 +05:30 [WRN] Registration failed: Username ramkumar@gmail.com already exists
2025-06-12 13:17:16.205 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 13:17:16.206 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI) in 36.7384ms
2025-06-12 13:17:16.206 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 13:17:16.206 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - 400 null application/json; charset=utf-8 41.0073ms
2025-06-12 14:26:55.441 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null
2025-06-12 14:26:55.551 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 110.7419ms
2025-06-12 14:26:55.983 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null
2025-06-12 14:26:56.181 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 197.9399ms
2025-06-12 15:18:27.051 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 48
2025-06-12 15:18:27.057 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 15:18:27.059 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 15:18:27.071 +05:30 [INF] Login attempt for user ram
2025-06-12 15:18:27.110 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 15:18:27.333 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 15:18:27.334 +05:30 [INF] User ram logged in successfully
2025-06-12 15:18:27.334 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 15:18:27.335 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 275.7556ms
2025-06-12 15:18:27.335 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 15:18:27.335 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 284.9795ms
2025-06-12 15:19:20.400 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/courses - application/json 219
2025-06-12 15:19:20.417 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.Create (ElearnCourseAPI)'
2025-06-12 15:19:20.440 +05:30 [INF] Route matched with {action = "Create", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ElearnAPI.DTOs.CourseDto) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 15:19:20.486 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Id", "CreatedAt", "Description", "InstructorId", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "IsDeleted";
2025-06-12 15:19:20.496 +05:30 [INF] Course created by instructor "019755ca-1b0f-7b4f-bcb0-5681bcff155f": "0197638b-42db-78a2-bc34-86753a31188a"
2025-06-12 15:19:20.496 +05:30 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 15:19:20.503 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.Create (ElearnCourseAPI) in 62.5016ms
2025-06-12 15:19:20.503 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.Create (ElearnCourseAPI)'
2025-06-12 15:19:20.503 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/courses - 201 null application/json; charset=utf-8 102.8544ms
2025-06-12 15:20:14.940 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 15:20:14.945 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 9:50:14 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 15:20:14.948 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 9:50:14 AM'.
2025-06-12 15:20:14.948 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 15:20:14.948 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 15:20:14.951 +05:30 [INF] Login attempt for user muthu@gmail.com
2025-06-12 15:20:14.956 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 15:20:15.146 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 15:20:15.147 +05:30 [INF] User muthu@gmail.com logged in successfully
2025-06-12 15:20:15.147 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 15:20:15.147 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 198.5835ms
2025-06-12 15:20:15.147 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 15:20:15.147 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 207.7183ms
2025-06-12 15:20:48.827 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses - null null
2025-06-12 15:20:48.828 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 15:20:48.828 +05:30 [INF] Route matched with {action = "GetAll", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 15:20:48.831 +05:30 [INF] Fetching all courses. Page: 1, PageSize: 10
2025-06-12 15:20:48.838 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE NOT (c."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-06-12 15:20:48.839 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 15:20:48.839 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI) in 10.6266ms
2025-06-12 15:20:48.839 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 15:20:48.839 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses - 200 null application/json; charset=utf-8 12.2905ms
2025-06-12 15:29:08.352 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - multipart/form-data; boundary=--------------------------110421101330529628803683 1570394
2025-06-12 15:29:08.356 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Instructor)
2025-06-12 15:29:08.359 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-12 15:29:08.361 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - 403 0 null 6.9945ms
2025-06-12 15:29:08.371 +05:30 [INF] Connection id "0HND9FQEIS5J1", Request id "0HND9FQEIS5J1:00000001": the application completed without reading the entire request body.
2025-06-12 15:29:14.951 +05:30 [INF] Connection id "0HND9FQEIS5J1", Request id "0HND9FQEIS5J1:00000001": automatic draining of the request body timed out after taking over 5 seconds.
2025-06-12 15:29:25.922 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 48
2025-06-12 15:29:25.923 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 15:29:25.923 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 15:29:25.924 +05:30 [INF] Login attempt for user ram
2025-06-12 15:29:25.942 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 15:29:26.136 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 15:29:26.136 +05:30 [INF] User ram logged in successfully
2025-06-12 15:29:26.137 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 15:29:26.137 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 213.4897ms
2025-06-12 15:29:26.137 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 15:29:26.137 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 214.6279ms
2025-06-12 15:29:39.868 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - null null
2025-06-12 15:29:39.872 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 15:29:39.879 +05:30 [INF] Route matched with {action = "GetCoursesByInstructor", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByInstructor(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 15:29:39.890 +05:30 [INF] Fetching courses for instructor "019755ca-1b0f-7b4f-bcb0-5681bcff155f"
2025-06-12 15:29:39.901 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 15:29:39.902 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 15:29:39.915 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."InstructorId" = @__instructorId_0 AND NOT (c."IsDeleted")
LIMIT @__p_2 OFFSET @__p_1
2025-06-12 15:29:39.916 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 15:29:39.916 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI) in 37.7628ms
2025-06-12 15:29:39.917 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 15:29:39.917 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - 200 null application/json; charset=utf-8 49.462ms
2025-06-12 15:29:55.742 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/students/019755e3-b46c-7cd3-853a-2f8c60ee7d8b
 - null null
2025-06-12 15:29:55.744 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 3:58:14 AM', Current time (UTC): '6/12/2025 9:59:55 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 15:29:55.744 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 3:58:14 AM', Current time (UTC): '6/12/2025 9:59:55 AM'.
2025-06-12 15:29:55.745 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Instructor)
2025-06-12 15:29:55.745 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 15:29:55.745 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/students/019755e3-b46c-7cd3-853a-2f8c60ee7d8b
 - 401 0 null 2.7345ms
2025-06-12 15:30:02.689 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/students/019755e3-b46c-7cd3-853a-2f8c60ee7d8b
 - null null
2025-06-12 15:30:02.691 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetStudentsEnrolledInCourse (ElearnCourseAPI)'
2025-06-12 15:30:02.695 +05:30 [INF] Route matched with {action = "GetStudentsEnrolledInCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsEnrolledInCourse(System.Guid) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 15:30:02.706 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."Id" = @__id_0 AND NOT (c."IsDeleted")
LIMIT 1
2025-06-12 15:30:02.707 +05:30 [WRN] Course with ID "019755e3-b46c-7cd3-853a-2f8c60ee7d8b" not found for instructor "019755ca-1b0f-7b4f-bcb0-5681bcff155f"
2025-06-12 15:30:02.707 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 15:30:02.707 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetStudentsEnrolledInCourse (ElearnCourseAPI) in 11.9271ms
2025-06-12 15:30:02.707 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetStudentsEnrolledInCourse (ElearnCourseAPI)'
2025-06-12 15:30:02.707 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/students/019755e3-b46c-7cd3-853a-2f8c60ee7d8b
 - 404 null application/json; charset=utf-8 18.0344ms
2025-06-12 15:39:14.494 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 15:39:14.495 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 15:39:14.495 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 15:39:14.496 +05:30 [INF] Login attempt for user admin@gmail.com
2025-06-12 15:39:14.511 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 15:39:14.724 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 15:39:14.725 +05:30 [INF] User admin@gmail.com logged in successfully
2025-06-12 15:39:14.725 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 15:39:14.725 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 229.5481ms
2025-06-12 15:39:14.725 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 15:39:14.725 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 230.9681ms
2025-06-12 15:39:43.618 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5295/api/v1/users/019755a5-23a7-7524-aa71-7bc56a7d7e21 - null null
2025-06-12 15:39:43.620 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.UsersController.Delete (ElearnCourseAPI)'
2025-06-12 15:39:43.626 +05:30 [INF] Route matched with {action = "Delete", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller ElearnAPI.Controllers.UsersController (ElearnCourseAPI).
2025-06-12 15:39:43.654 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 15:39:43.655 +05:30 [WRN] User not found for deletion: "019755a5-23a7-7524-aa71-7bc56a7d7e21"
2025-06-12 15:39:43.655 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 15:39:43.655 +05:30 [INF] Executed action ElearnAPI.Controllers.UsersController.Delete (ElearnCourseAPI) in 28.7635ms
2025-06-12 15:39:43.655 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.UsersController.Delete (ElearnCourseAPI)'
2025-06-12 15:39:43.655 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5295/api/v1/users/019755a5-23a7-7524-aa71-7bc56a7d7e21 - 404 null application/json; charset=utf-8 37.1777ms
2025-06-12 16:47:31.151 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 16:47:31.162 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 11:17:31 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 16:47:31.165 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 11:17:31 AM'.
2025-06-12 16:47:31.166 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 16:47:31.167 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 16:47:31.175 +05:30 [INF] Login attempt for user muthu@gmail.com
2025-06-12 16:47:31.234 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 16:47:31.593 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 16:47:31.594 +05:30 [INF] User muthu@gmail.com logged in successfully
2025-06-12 16:47:31.594 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 16:47:31.595 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 427.4429ms
2025-06-12 16:47:31.595 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 16:47:31.596 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 444.8654ms
2025-06-12 16:47:37.334 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - null null
2025-06-12 16:47:37.337 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 16:47:37.337 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 16:47:37.349 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 16:47:37.350 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" retrieved their enrolled courses.
2025-06-12 16:47:37.350 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 16:47:37.350 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 13.0091ms
2025-06-12 16:47:37.350 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 16:47:37.351 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - 200 null application/json; charset=utf-8 17.8753ms
2025-06-12 16:47:57.474 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - null 0
2025-06-12 16:47:57.475 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 16:47:57.475 +05:30 [INF] Route matched with {action = "Enroll", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Enroll(System.Guid) on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 16:47:57.493 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 16:47:57.499 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("CourseId", "UserId", "EnrolledAt")
VALUES (@p0, @p1, @p2);
2025-06-12 16:47:57.499 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" successfully enrolled in course "01976230-0cd0-7b58-b101-db5056c4285b".
2025-06-12 16:47:57.499 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 16:47:57.500 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI) in 24.0347ms
2025-06-12 16:47:57.500 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 16:47:57.500 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976230-0cd0-7b58-b101-db5056c4285b - 200 null application/json; charset=utf-8 26.228ms
2025-06-12 16:48:02.694 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - null null
2025-06-12 16:48:02.694 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 16:48:02.695 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 16:48:02.698 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 16:48:02.700 +05:30 [INF] User "019762ef-629a-77a7-9c1f-327d213ceae2" retrieved their enrolled courses.
2025-06-12 16:48:02.700 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 16:48:02.701 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 5.7909ms
2025-06-12 16:48:02.701 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 16:48:02.701 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - 200 null application/json; charset=utf-8 7.7338ms
2025-06-12 18:16:13.140 +05:30 [INF] Application is shutting down...
2025-06-12 18:40:29.238 +05:30 [ERR] An error occurred using the connection to database 'ElearnDb' on server 'tcp://localhost:5432'.
2025-06-12 18:40:30.342 +05:30 [INF] Executed DbCommand (776ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "ElearnDb";
2025-06-12 18:40:30.476 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-12 18:40:30.484 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-12 18:40:30.486 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-12 18:40:30.489 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 18:40:30.501 +05:30 [INF] Applying migration '20250609170045_FixUserRoleNavigation'.
2025-06-12 18:40:30.585 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Roles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    CONSTRAINT "PK_Roles" PRIMARY KEY ("Id")
);
2025-06-12 18:40:30.629 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Username" character varying(50) NOT NULL,
    "PasswordHash" text NOT NULL,
    "RoleId" integer NOT NULL,
    "RefreshToken" text,
    "RefreshTokenExpiryTime" timestamp with time zone,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Users_Roles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Roles" ("Id") ON DELETE RESTRICT
);
2025-06-12 18:40:30.663 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Courses" (
    "Id" uuid NOT NULL,
    "Title" character varying(100) NOT NULL,
    "Description" character varying(500),
    "InstructorId" uuid NOT NULL,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_Courses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Courses_Users_InstructorId" FOREIGN KEY ("InstructorId") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-06-12 18:40:30.698 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UploadedFiles" (
    "Id" uuid NOT NULL,
    "FileName" text NOT NULL,
    "FileType" character varying(10),
    "UploadedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "CourseId" uuid NOT NULL,
    CONSTRAINT "PK_UploadedFiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UploadedFiles_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE
);
2025-06-12 18:40:30.705 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Roles" ("Id", "Name")
VALUES (1, 'Admin');
INSERT INTO "Roles" ("Id", "Name")
VALUES (2, 'Instructor');
INSERT INTO "Roles" ("Id", "Name")
VALUES (3, 'Student');
2025-06-12 18:40:30.708 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Courses_InstructorId" ON "Courses" ("InstructorId");
2025-06-12 18:40:30.710 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UploadedFiles_CourseId" ON "UploadedFiles" ("CourseId");
2025-06-12 18:40:30.713 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Users_RoleId" ON "Users" ("RoleId");
2025-06-12 18:40:30.716 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Roles"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Roles") + 1,
        nextval(pg_get_serial_sequence('"Roles"', 'Id'))),
    false);
2025-06-12 18:40:30.716 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250609170045_FixUserRoleNavigation', '9.0.5');
2025-06-12 18:40:30.717 +05:30 [INF] Applying migration '20250610053806_AddEnrollmentSupport'.
2025-06-12 18:40:30.728 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Enrollments" (
    "UserId" uuid NOT NULL,
    "CourseId" uuid NOT NULL,
    "EnrolledAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Enrollments" PRIMARY KEY ("UserId", "CourseId"),
    CONSTRAINT "FK_Enrollments_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Enrollments_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-06-12 18:40:30.734 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Enrollments_CourseId" ON "Enrollments" ("CourseId");
2025-06-12 18:40:30.735 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250610053806_AddEnrollmentSupport', '9.0.5');
2025-06-12 18:40:30.735 +05:30 [INF] Applying migration '20250610155746_AddPathToUploadedFile'.
2025-06-12 18:40:30.743 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "UploadedFiles" ADD "Path" text NOT NULL DEFAULT '';
2025-06-12 18:40:30.743 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250610155746_AddPathToUploadedFile', '9.0.5');
2025-06-12 18:40:30.744 +05:30 [INF] Applying migration '20250612131023_FixUploadedFileNavigationAndDto'.
2025-06-12 18:40:30.750 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "UploadedFiles" ADD "Description" character varying(1000);
2025-06-12 18:40:30.751 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "UploadedFiles" ADD "Topic" character varying(150) NOT NULL DEFAULT '';
2025-06-12 18:40:30.751 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250612131023_FixUploadedFileNavigationAndDto', '9.0.5');
2025-06-12 18:40:40.407 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 18:40:40.569 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 18:40:40.570 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 18:40:40.570 +05:30 [INF] Hosting environment: Development
2025-06-12 18:40:40.571 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 18:40:58.846 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 48
2025-06-12 18:40:58.910 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 18:40:58.946 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:40:58.973 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 18:40:59.262 +05:30 [INF] Login attempt for user ram
2025-06-12 18:41:00.633 +05:30 [INF] Executed DbCommand (58ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 18:41:00.655 +05:30 [WRN] Login failed for user ram
2025-06-12 18:41:00.662 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:41:00.683 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 1705.5284ms
2025-06-12 18:41:00.691 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:41:00.703 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 401 null application/json; charset=utf-8 1860.6545ms
2025-06-12 18:41:12.449 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - application/json 92
2025-06-12 18:41:12.455 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 18:41:12.463 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ElearnAPI.DTOs.RegisterDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 18:41:12.486 +05:30 [INF] Registering user ramkumar@gmail.com with role Instructor
2025-06-12 18:41:12.513 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 18:41:12.526 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Name" = @__name_0
LIMIT 1
2025-06-12 18:41:13.071 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "RoleId", "UpdatedAt", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsDeleted";
2025-06-12 18:41:13.094 +05:30 [INF] User ramkumar@gmail.com registered successfully
2025-06-12 18:41:13.095 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UserDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 18:41:13.107 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI) in 643.5021ms
2025-06-12 18:41:13.107 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 18:41:13.107 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - 200 null application/json; charset=utf-8 658.6252ms
2025-06-12 18:41:37.034 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 68
2025-06-12 18:41:37.038 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:41:37.038 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 18:41:37.049 +05:30 [INF] Login attempt for user ramkumar@gmail.com
2025-06-12 18:41:37.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 18:41:37.475 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 18:41:37.477 +05:30 [INF] User ramkumar@gmail.com logged in successfully
2025-06-12 18:41:37.478 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:41:37.479 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 440.0776ms
2025-06-12 18:41:37.479 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:41:37.479 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 445.2074ms
2025-06-12 18:41:51.103 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/courses - application/json 219
2025-06-12 18:41:51.158 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.Create (ElearnCourseAPI)'
2025-06-12 18:41:51.162 +05:30 [INF] Route matched with {action = "Create", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ElearnAPI.DTOs.CourseDto) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 18:41:51.210 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Id", "CreatedAt", "Description", "InstructorId", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "IsDeleted";
2025-06-12 18:41:51.217 +05:30 [INF] Course created by instructor "01976444-152d-7c34-aca9-de0968b59fcb": "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 18:41:51.219 +05:30 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 18:41:51.247 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.Create (ElearnCourseAPI) in 84.9474ms
2025-06-12 18:41:51.248 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.Create (ElearnCourseAPI)'
2025-06-12 18:41:51.248 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/courses - 201 null application/json; charset=utf-8 145.2702ms
2025-06-12 18:42:22.496 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - multipart/form-data; boundary=--------------------------315930636161525822285770 1570394
2025-06-12 18:42:22.500 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 18:42:22.509 +05:30 [INF] Route matched with {action = "Upload", controller = "Upload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ElearnAPI.DTOs.UploadFileDto) on controller ElearnAPI.Controllers.UploadController (ElearnCourseAPI).
2025-06-12 18:42:22.556 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-12 18:42:22.579 +05:30 [INF] Executed action ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI) in 69.7804ms
2025-06-12 18:42:22.579 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 18:42:22.582 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - 400 null application/problem+json; charset=utf-8 86.6248ms
2025-06-12 18:42:44.534 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - multipart/form-data; boundary=--------------------------806952338185853270293688 1570515
2025-06-12 18:42:44.539 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 18:42:44.539 +05:30 [INF] Route matched with {action = "Upload", controller = "Upload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ElearnAPI.DTOs.UploadFileDto) on controller ElearnAPI.Controllers.UploadController (ElearnCourseAPI).
2025-06-12 18:42:44.599 +05:30 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UploadedFiles" ("Id", "CourseId", "Description", "FileName", "FileType", "Path", "Topic", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 18:42:44.631 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'ElearnAPI.Data.ElearnDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Topic" of relation "UploadedFiles" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Topic" of relation "UploadedFiles" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: UploadedFiles
    ColumnName: Topic
    File: execMain.c
    Line: 1978
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Topic" of relation "UploadedFiles" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Topic" of relation "UploadedFiles" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: UploadedFiles
    ColumnName: Topic
    File: execMain.c
    Line: 1978
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-12 18:42:44.635 +05:30 [ERR] File upload failed.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "Topic" of relation "UploadedFiles" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "Topic" of relation "UploadedFiles" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: UploadedFiles
    ColumnName: Topic
    File: execMain.c
    Line: 1978
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ElearnAPI.Repositories.UploadRepository.AddAsync(UploadedFile file) in /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI/Repositories/UploadRepository.cs:line 23
   at ElearnAPI.Services.UploadService.UploadFileAsync(UploadedFileDto uploadDto) in /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI/Services/UploadService.cs:line 26
   at ElearnAPI.Controllers.UploadController.Upload(UploadFileDto dto) in /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI/Controllers/UploadController.cs:line 55
2025-06-12 18:42:44.645 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType8`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:42:44.646 +05:30 [INF] Executed action ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI) in 106.4259ms
2025-06-12 18:42:44.647 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 18:42:44.648 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - 500 null application/json; charset=utf-8 114.1112ms
2025-06-12 18:46:48.838 +05:30 [INF] Application is shutting down...
2025-06-12 18:46:54.427 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 18:46:54.573 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 18:46:54.575 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 18:46:54.575 +05:30 [INF] Hosting environment: Development
2025-06-12 18:46:54.575 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 18:47:08.852 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - multipart/form-data; boundary=--------------------------532866107070730223894318 1570515
2025-06-12 18:47:08.905 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 18:47:09.003 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 18:47:09.022 +05:30 [INF] Route matched with {action = "Upload", controller = "Upload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ElearnAPI.DTOs.UploadFileDto) on controller ElearnAPI.Controllers.UploadController (ElearnCourseAPI).
2025-06-12 18:47:10.420 +05:30 [INF] Executed DbCommand (66ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UploadedFiles" ("Id", "CourseId", "Description", "FileName", "FileType", "Path", "Topic", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 18:47:10.448 +05:30 [INF] File uploaded: file_example_MP4_480_1_5MG.mp4 for Course: "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 18:47:10.456 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UploadedFileDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 18:47:10.495 +05:30 [INF] Executed action ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI) in 1468.8775ms
2025-06-12 18:47:10.501 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 18:47:10.517 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - 200 null application/json; charset=utf-8 1668.08ms
2025-06-12 18:47:39.694 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - multipart/form-data; boundary=--------------------------262754923047633529844221 1570643
2025-06-12 18:47:39.702 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 18:47:39.703 +05:30 [INF] Route matched with {action = "Upload", controller = "Upload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ElearnAPI.DTOs.UploadFileDto) on controller ElearnAPI.Controllers.UploadController (ElearnCourseAPI).
2025-06-12 18:47:39.811 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UploadedFiles" ("Id", "CourseId", "Description", "FileName", "FileType", "Path", "Topic", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 18:47:39.811 +05:30 [INF] File uploaded: file_example_MP4_480_1_5MG.mp4 for Course: "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 18:47:39.812 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UploadedFileDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 18:47:39.813 +05:30 [INF] Executed action ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI) in 109.5892ms
2025-06-12 18:47:39.813 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 18:47:39.816 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - 200 null application/json; charset=utf-8 122.7441ms
2025-06-12 18:47:57.168 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - null null
2025-06-12 18:47:57.189 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 18:47:57.194 +05:30 [INF] Route matched with {action = "GetCoursesByInstructor", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByInstructor(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 18:47:57.203 +05:30 [INF] Fetching courses for instructor "01976444-152d-7c34-aca9-de0968b59fcb"
2025-06-12 18:47:57.415 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 18:47:57.417 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 18:47:57.575 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__instructorId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."InstructorId" = @__instructorId_0 AND NOT (c."IsDeleted")
LIMIT @__p_2 OFFSET @__p_1
2025-06-12 18:47:57.628 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:47:57.638 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI) in 443.4225ms
2025-06-12 18:47:57.638 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 18:47:57.638 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - 200 null application/json; charset=utf-8 470.9137ms
2025-06-12 18:48:30.824 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - null null
2025-06-12 18:48:30.826 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 18:48:30.827 +05:30 [INF] Route matched with {action = "GetCoursesByInstructor", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByInstructor(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 18:48:30.828 +05:30 [INF] Fetching courses for instructor "01976444-152d-7c34-aca9-de0968b59fcb"
2025-06-12 18:48:30.833 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."InstructorId" = @__instructorId_0 AND NOT (c."IsDeleted")
LIMIT @__p_2 OFFSET @__p_1
2025-06-12 18:48:30.834 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:48:30.834 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI) in 7.6034ms
2025-06-12 18:48:30.835 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 18:48:30.835 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - 200 null application/json; charset=utf-8 10.7002ms
2025-06-12 18:48:49.333 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - application/json 83
2025-06-12 18:48:49.333 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 18:48:49.338 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ElearnAPI.DTOs.RegisterDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 18:48:49.353 +05:30 [INF] Registering user muthu@gmail.com with role Student
2025-06-12 18:48:49.443 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 18:48:49.455 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Name" = @__name_0
LIMIT 1
2025-06-12 18:48:49.851 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "RoleId", "UpdatedAt", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsDeleted";
2025-06-12 18:48:49.862 +05:30 [INF] User muthu@gmail.com registered successfully
2025-06-12 18:48:49.862 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UserDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 18:48:49.868 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI) in 529.6643ms
2025-06-12 18:48:49.868 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 18:48:49.868 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - 200 null application/json; charset=utf-8 535.406ms
2025-06-12 18:49:04.969 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 18:49:04.974 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 1:19:04 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 18:49:04.991 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 1:19:04 PM'.
2025-06-12 18:49:04.991 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:49:04.997 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 18:49:05.003 +05:30 [INF] Login attempt for user muthu@gmail.com
2025-06-12 18:49:05.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 18:49:05.356 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 18:49:05.358 +05:30 [INF] User muthu@gmail.com logged in successfully
2025-06-12 18:49:05.358 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:49:05.360 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 362.2897ms
2025-06-12 18:49:05.360 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:49:05.361 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 391.6976ms
2025-06-12 18:49:10.001 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses - null null
2025-06-12 18:49:10.002 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 18:49:10.007 +05:30 [INF] Route matched with {action = "GetAll", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 18:49:10.013 +05:30 [INF] Fetching all courses. Page: 1, PageSize: 10
2025-06-12 18:49:10.017 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 18:49:10.017 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 18:49:10.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE NOT (c."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-06-12 18:49:10.024 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:49:10.025 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI) in 17.6674ms
2025-06-12 18:49:10.025 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 18:49:10.025 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses - 200 null application/json; charset=utf-8 23.8131ms
2025-06-12 18:49:28.482 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976444-aa8f-7702-b946-c7b6d855c746 - null null
2025-06-12 18:49:28.483 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 18:49:28.488 +05:30 [INF] Route matched with {action = "DownloadFiles", controller = "StudentDownload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFiles(System.Guid) on controller ElearnAPI.Controllers.StudentDownloadController (ElearnCourseAPI).
2025-06-12 18:49:28.492 +05:30 [INF] Student requested file list for course "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 18:49:28.513 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 18:49:28.515 +05:30 [WRN] Student "0197644b-0ddb-7d71-aaa9-72cd29ec1418" attempted to access course "01976444-aa8f-7702-b946-c7b6d855c746" without enrollment
2025-06-12 18:49:28.517 +05:30 [INF] Executing ForbidResult with authentication schemes (["You are not enrolled in this course."]).
2025-06-12 18:49:28.523 +05:30 [INF] Executed action ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI) in 35.1186ms
2025-06-12 18:49:28.524 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 18:49:28.525 +05:30 [ERR] Unhandled exception caught by middleware
System.InvalidOperationException: No authentication handler is registered for the scheme 'You are not enrolled in this course.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("You are not enrolled in this course.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at ElearnAPI.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI/Middleware/ErrorHandlingMiddleware.cs:line 25
2025-06-12 18:49:28.540 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976444-aa8f-7702-b946-c7b6d855c746 - 500 null application/json 57.7897ms
2025-06-12 18:49:43.177 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976444-aa8f-7702-b946-c7b6d855c746 - null 0
2025-06-12 18:49:43.178 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 18:49:43.181 +05:30 [INF] Route matched with {action = "Enroll", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Enroll(System.Guid) on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 18:49:43.185 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 18:49:43.209 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("CourseId", "UserId", "EnrolledAt")
VALUES (@p0, @p1, @p2);
2025-06-12 18:49:43.210 +05:30 [INF] User "0197644b-0ddb-7d71-aaa9-72cd29ec1418" successfully enrolled in course "01976444-aa8f-7702-b946-c7b6d855c746".
2025-06-12 18:49:43.210 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:49:43.211 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI) in 30.695ms
2025-06-12 18:49:43.212 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 18:49:43.212 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976444-aa8f-7702-b946-c7b6d855c746 - 200 null application/json; charset=utf-8 34.9161ms
2025-06-12 18:49:49.755 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - null null
2025-06-12 18:49:49.756 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 18:49:49.760 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 18:49:49.774 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 18:49:49.775 +05:30 [INF] User "0197644b-0ddb-7d71-aaa9-72cd29ec1418" retrieved their enrolled courses.
2025-06-12 18:49:49.775 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:49:49.791 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 31.1537ms
2025-06-12 18:49:49.791 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 18:49:49.791 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - 200 null application/json; charset=utf-8 35.8962ms
2025-06-12 18:49:58.055 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976444-aa8f-7702-b946-c7b6d855c746 - null null
2025-06-12 18:49:58.057 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 18:49:58.057 +05:30 [INF] Route matched with {action = "DownloadFiles", controller = "StudentDownload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFiles(System.Guid) on controller ElearnAPI.Controllers.StudentDownloadController (ElearnCourseAPI).
2025-06-12 18:49:58.057 +05:30 [INF] Student requested file list for course "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 18:49:58.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 18:49:58.074 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CourseId", u."Description", u."FileName", u."FileType", u."Path", u."Topic", u."UploadedAt"
FROM "UploadedFiles" AS u
WHERE u."CourseId" = @__courseId_0
2025-06-12 18:49:58.094 +05:30 [INF] Returning 2 files for student "0197644b-0ddb-7d71-aaa9-72cd29ec1418" in course "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 18:49:58.094 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType5`3[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:49:58.099 +05:30 [INF] Executed action ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI) in 42.2803ms
2025-06-12 18:49:58.099 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 18:49:58.100 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976444-aa8f-7702-b946-c7b6d855c746 - 200 null application/json; charset=utf-8 44.041ms
2025-06-12 18:51:37.818 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 68
2025-06-12 18:51:37.819 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:51:37.819 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 18:51:37.823 +05:30 [INF] Login attempt for user ramkumar@gmail.com
2025-06-12 18:51:37.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 18:51:38.016 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 18:51:38.016 +05:30 [INF] User ramkumar@gmail.com logged in successfully
2025-06-12 18:51:38.017 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:51:38.017 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 198.1226ms
2025-06-12 18:51:38.017 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:51:38.018 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 199.7305ms
2025-06-12 18:51:42.640 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - null null
2025-06-12 18:51:42.662 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 18:51:42.662 +05:30 [INF] Route matched with {action = "GetCoursesByInstructor", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByInstructor(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 18:51:42.667 +05:30 [INF] Fetching courses for instructor "01976444-152d-7c34-aca9-de0968b59fcb"
2025-06-12 18:51:42.697 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@__instructorId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."InstructorId" = @__instructorId_0 AND NOT (c."IsDeleted")
LIMIT @__p_2 OFFSET @__p_1
2025-06-12 18:51:42.698 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:51:42.698 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI) in 31.7664ms
2025-06-12 18:51:42.698 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 18:51:42.699 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - 200 null application/json; charset=utf-8 58.497ms
2025-06-12 18:52:26.297 +05:30 [INF] Application is shutting down...
2025-06-12 18:52:31.676 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 18:52:31.845 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 18:52:31.847 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 18:52:31.847 +05:30 [INF] Hosting environment: Development
2025-06-12 18:52:31.848 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 18:57:00.966 +05:30 [INF] Application is shutting down...
2025-06-12 18:57:06.461 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 18:57:06.602 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 18:57:06.604 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 18:57:06.604 +05:30 [INF] Hosting environment: Development
2025-06-12 18:57:06.604 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 18:57:16.736 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - null null
2025-06-12 18:57:16.796 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 18:57:16.904 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 18:57:16.919 +05:30 [INF] Route matched with {action = "GetCoursesByInstructor", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByInstructor(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 18:57:17.167 +05:30 [INF] Fetching courses for instructor "01976444-152d-7c34-aca9-de0968b59fcb"
2025-06-12 18:57:18.091 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 18:57:18.093 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 18:57:18.756 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__instructorId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CreatedAt", c0."Description", c0."InstructorId", c0."IsDeleted", c0."Title", c0."UpdatedAt", u."Id", u."CourseId", u."Description", u."FileName", u."FileType", u."Path", u."Topic", u."UploadedAt"
FROM (
    SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    WHERE c."InstructorId" = @__instructorId_0 AND NOT (c."IsDeleted")
    LIMIT @__p_2 OFFSET @__p_1
) AS c0
LEFT JOIN "UploadedFiles" AS u ON c0."Id" = u."CourseId"
ORDER BY c0."Id"
2025-06-12 18:57:18.898 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:57:18.945 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI) in 2021.5957ms
2025-06-12 18:57:18.950 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 18:57:18.962 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - 200 null application/json; charset=utf-8 2228.7664ms
2025-06-12 18:57:40.800 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/students/019755e3-b46c-7cd3-853a-2f8c60ee7d8b
 - null null
2025-06-12 18:57:40.808 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetStudentsEnrolledInCourse (ElearnCourseAPI)'
2025-06-12 18:57:40.815 +05:30 [INF] Route matched with {action = "GetStudentsEnrolledInCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsEnrolledInCourse(System.Guid) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 18:57:40.871 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."Id" = @__id_0 AND NOT (c."IsDeleted")
LIMIT 1
2025-06-12 18:57:40.872 +05:30 [WRN] Course with ID "019755e3-b46c-7cd3-853a-2f8c60ee7d8b" not found for instructor "01976444-152d-7c34-aca9-de0968b59fcb"
2025-06-12 18:57:40.873 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:57:40.878 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetStudentsEnrolledInCourse (ElearnCourseAPI) in 62.6763ms
2025-06-12 18:57:40.878 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetStudentsEnrolledInCourse (ElearnCourseAPI)'
2025-06-12 18:57:40.878 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/students/019755e3-b46c-7cd3-853a-2f8c60ee7d8b
 - 404 null application/json; charset=utf-8 78.7577ms
2025-06-12 18:58:01.095 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/students/
01976444-aa8f-7702-b946-c7b6d855c746 - null null
2025-06-12 18:58:01.101 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetStudentsEnrolledInCourse (ElearnCourseAPI)'
2025-06-12 18:58:01.101 +05:30 [INF] Route matched with {action = "GetStudentsEnrolledInCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsEnrolledInCourse(System.Guid) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 18:58:01.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."Id" = @__id_0 AND NOT (c."IsDeleted")
LIMIT 1
2025-06-12 18:58:01.226 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__courseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."UserId", e."CourseId", e."EnrolledAt", u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username"
FROM "Enrollments" AS e
INNER JOIN "Users" AS u ON e."UserId" = u."Id"
WHERE e."CourseId" = @__courseId_0
2025-06-12 18:58:01.273 +05:30 [INF] Fetched students for course "01976444-aa8f-7702-b946-c7b6d855c746" by instructor "01976444-152d-7c34-aca9-de0968b59fcb"
2025-06-12 18:58:01.274 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.UserDtoResponse, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:58:01.277 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetStudentsEnrolledInCourse (ElearnCourseAPI) in 176.0983ms
2025-06-12 18:58:01.278 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetStudentsEnrolledInCourse (ElearnCourseAPI)'
2025-06-12 18:58:01.278 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/students/
01976444-aa8f-7702-b946-c7b6d855c746 - 200 null application/json; charset=utf-8 182.832ms
2025-06-12 18:58:17.601 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 18:58:17.606 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 1:28:17 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 18:58:17.627 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 1:28:17 PM'.
2025-06-12 18:58:17.627 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:58:17.631 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 18:58:17.656 +05:30 [INF] Login attempt for user muthu@gmail.com
2025-06-12 18:58:17.675 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 18:58:18.234 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 18:58:18.245 +05:30 [INF] User muthu@gmail.com logged in successfully
2025-06-12 18:58:18.246 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:58:18.247 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 615.2294ms
2025-06-12 18:58:18.247 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 18:58:18.248 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 646.4027ms
2025-06-12 18:58:26.044 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses - null null
2025-06-12 18:58:26.045 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 18:58:26.049 +05:30 [INF] Route matched with {action = "GetAll", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 18:58:26.050 +05:30 [INF] Fetching all courses. Page: 1, PageSize: 10
2025-06-12 18:58:26.053 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 18:58:26.053 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 18:58:26.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE NOT (c."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-06-12 18:58:26.061 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:58:26.061 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI) in 12.4932ms
2025-06-12 18:58:26.061 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 18:58:26.062 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses - 200 null application/json; charset=utf-8 17.6275ms
2025-06-12 18:58:56.197 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976444-aa8f-7702-b946-c7b6d855c746 - null null
2025-06-12 18:58:56.198 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 18:58:56.203 +05:30 [INF] Route matched with {action = "DownloadFiles", controller = "StudentDownload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFiles(System.Guid) on controller ElearnAPI.Controllers.StudentDownloadController (ElearnCourseAPI).
2025-06-12 18:58:56.206 +05:30 [INF] Student requested file list for course "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 18:58:56.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 18:58:56.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CourseId", u."Description", u."FileName", u."FileType", u."Path", u."Topic", u."UploadedAt"
FROM "UploadedFiles" AS u
WHERE u."CourseId" = @__courseId_0
2025-06-12 18:58:56.261 +05:30 [INF] Returning 2 files for student "0197644b-0ddb-7d71-aaa9-72cd29ec1418" in course "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 18:58:56.261 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType5`3[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 18:58:56.265 +05:30 [INF] Executed action ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI) in 61.7017ms
2025-06-12 18:58:56.265 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 18:58:56.265 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976444-aa8f-7702-b946-c7b6d855c746 - 200 null application/json; charset=utf-8 68.432ms
2025-06-12 19:08:14.696 +05:30 [INF] Application is shutting down...
2025-06-12 19:08:22.957 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 19:08:23.080 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 19:08:23.082 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 19:08:23.082 +05:30 [INF] Hosting environment: Development
2025-06-12 19:08:23.082 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 19:08:34.262 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976444-aa8f-7702-b946-c7b6d855c746 - null null
2025-06-12 19:08:34.326 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 19:08:34.430 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 19:08:34.447 +05:30 [INF] Route matched with {action = "DownloadFiles", controller = "StudentDownload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFiles(System.Guid) on controller ElearnAPI.Controllers.StudentDownloadController (ElearnCourseAPI).
2025-06-12 19:08:34.695 +05:30 [INF] Student requested file list for course "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 19:08:35.948 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 19:08:36.025 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__courseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CourseId", u."Description", u."FileName", u."FileType", u."Path", u."Topic", u."UploadedAt"
FROM "UploadedFiles" AS u
WHERE u."CourseId" = @__courseId_0
2025-06-12 19:08:36.100 +05:30 [INF] Returning 2 files for student "0197644b-0ddb-7d71-aaa9-72cd29ec1418" in course "01976444-aa8f-7702-b946-c7b6d855c746"
2025-06-12 19:08:36.107 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType5`5[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:08:36.154 +05:30 [INF] Executed action ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI) in 1702.8961ms
2025-06-12 19:08:36.159 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 19:08:36.172 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976444-aa8f-7702-b946-c7b6d855c746 - 200 null application/json; charset=utf-8 1912.045ms
2025-06-12 19:29:20.069 +05:30 [INF] Application is shutting down...
2025-06-12 19:29:31.004 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 19:29:31.151 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 19:29:31.153 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 19:29:31.153 +05:30 [INF] Hosting environment: Development
2025-06-12 19:29:31.153 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 19:29:31.771 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null
2025-06-12 19:29:31.878 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 108.932ms
2025-06-12 19:29:32.188 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null
2025-06-12 19:29:32.365 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.4498ms
2025-06-12 19:31:08.083 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search/ma - null null
2025-06-12 19:31:08.091 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 19:31:08.199 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search/ma - 404 0 null 116.5944ms
2025-06-12 19:31:08.203 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/v1/courses/search/ma, Response status code: 404
2025-06-12 19:31:16.068 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 19:31:16.079 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 2:01:16 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 19:31:16.098 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 2:01:16 PM'.
2025-06-12 19:31:16.100 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 19:31:16.122 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 19:31:16.466 +05:30 [INF] Login attempt for user muthu@gmail.com
2025-06-12 19:31:18.015 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 19:31:18.564 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 19:31:18.573 +05:30 [INF] User muthu@gmail.com logged in successfully
2025-06-12 19:31:18.578 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:31:18.593 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 2466.7417ms
2025-06-12 19:31:18.594 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 19:31:18.605 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 2537.1621ms
2025-06-12 19:31:25.226 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search/ma - null null
2025-06-12 19:31:25.229 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search/ma - 404 0 null 3.5634ms
2025-06-12 19:31:25.230 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/v1/courses/search/ma, Response status code: 404
2025-06-12 19:32:15.132 +05:30 [INF] Application is shutting down...
2025-06-12 19:32:23.772 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 19:32:23.991 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 19:32:23.993 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 19:32:23.993 +05:30 [INF] Hosting environment: Development
2025-06-12 19:32:23.993 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 19:32:28.142 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search/ma - null null
2025-06-12 19:32:28.197 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 19:32:28.303 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search/ma - 404 0 null 163.5764ms
2025-06-12 19:32:28.320 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/v1/courses/search/ma, Response status code: 404
2025-06-12 19:32:39.115 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=ee - null null
2025-06-12 19:32:39.130 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Student)
2025-06-12 19:32:39.137 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 19:32:39.138 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=ee - 401 0 null 23.1546ms
2025-06-12 19:32:56.886 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=ee - null null
2025-06-12 19:32:56.893 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:32:56.913 +05:30 [INF] Route matched with {action = "SearchCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchCourses(System.String) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 19:32:57.189 +05:30 [INF] Searching courses with query: ee
2025-06-12 19:32:58.605 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__ToLower_0_contains='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt", u."Id", u."CourseId", u."Description", u."FileName", u."FileType", u."Path", u."Topic", u."UploadedAt"
FROM "Courses" AS c
LEFT JOIN "UploadedFiles" AS u ON c."Id" = u."CourseId"
WHERE lower(c."Title") LIKE @__ToLower_0_contains
ORDER BY c."Id"
2025-06-12 19:32:58.643 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:32:58.689 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI) in 1772.3376ms
2025-06-12 19:32:58.690 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:32:58.700 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=ee - 200 null application/json; charset=utf-8 1814.2636ms
2025-06-12 19:33:06.236 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses - null null
2025-06-12 19:33:06.240 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 19:33:06.246 +05:30 [INF] Route matched with {action = "GetAll", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 19:33:06.250 +05:30 [INF] Fetching all courses. Page: 1, PageSize: 10
2025-06-12 19:33:06.282 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 19:33:06.283 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 19:33:06.300 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE NOT (c."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-06-12 19:33:06.380 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:33:06.383 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI) in 136.133ms
2025-06-12 19:33:06.383 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 19:33:06.383 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses - 200 null application/json; charset=utf-8 146.9755ms
2025-06-12 19:33:16.482 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=Mobile - null null
2025-06-12 19:33:16.483 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:33:16.483 +05:30 [INF] Route matched with {action = "SearchCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchCourses(System.String) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 19:33:16.490 +05:30 [INF] Searching courses with query: Mobile
2025-06-12 19:33:16.575 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0_contains='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt", u."Id", u."CourseId", u."Description", u."FileName", u."FileType", u."Path", u."Topic", u."UploadedAt"
FROM "Courses" AS c
LEFT JOIN "UploadedFiles" AS u ON c."Id" = u."CourseId"
WHERE lower(c."Title") LIKE @__ToLower_0_contains
ORDER BY c."Id"
2025-06-12 19:33:16.610 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:33:16.612 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI) in 128.6873ms
2025-06-12 19:33:16.612 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:33:16.613 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=Mobile - 200 null application/json; charset=utf-8 130.7343ms
2025-06-12 19:36:19.427 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5295/api/v1/enrollments/01976444-aa8f-7702-b946-c7b6d855c746 - null null
2025-06-12 19:36:19.428 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.Unenroll (ElearnCourseAPI)'
2025-06-12 19:36:19.433 +05:30 [INF] Route matched with {action = "Unenroll", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Unenroll(System.Guid) on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 19:36:19.460 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."UserId", e."CourseId", e."EnrolledAt"
FROM "Enrollments" AS e
WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1
LIMIT 1
2025-06-12 19:36:19.575 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Enrollments"
WHERE "CourseId" = @p0 AND "UserId" = @p1;
2025-06-12 19:36:19.587 +05:30 [INF] User "0197644b-0ddb-7d71-aaa9-72cd29ec1418" successfully unenrolled from course "01976444-aa8f-7702-b946-c7b6d855c746".
2025-06-12 19:36:19.587 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:36:19.592 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.Unenroll (ElearnCourseAPI) in 158.813ms
2025-06-12 19:36:19.592 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.Unenroll (ElearnCourseAPI)'
2025-06-12 19:36:19.592 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5295/api/v1/enrollments/01976444-aa8f-7702-b946-c7b6d855c746 - 200 null application/json; charset=utf-8 164.9972ms
2025-06-12 19:36:24.761 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=Mobile - null null
2025-06-12 19:36:24.762 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:36:24.762 +05:30 [INF] Route matched with {action = "SearchCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchCourses(System.String) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 19:36:24.763 +05:30 [INF] Searching courses with query: Mobile
2025-06-12 19:36:24.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_contains='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt", u."Id", u."CourseId", u."Description", u."FileName", u."FileType", u."Path", u."Topic", u."UploadedAt"
FROM "Courses" AS c
LEFT JOIN "UploadedFiles" AS u ON c."Id" = u."CourseId"
WHERE lower(c."Title") LIKE @__ToLower_0_contains
ORDER BY c."Id"
2025-06-12 19:36:24.767 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:36:24.767 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI) in 4.462ms
2025-06-12 19:36:24.767 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:36:24.768 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=Mobile - 200 null application/json; charset=utf-8 6.3685ms
2025-06-12 19:37:20.709 +05:30 [INF] Application is shutting down...
2025-06-12 19:37:31.150 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 19:37:31.364 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 19:37:31.366 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 19:37:31.366 +05:30 [INF] Hosting environment: Development
2025-06-12 19:37:31.367 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 19:37:33.182 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=Mobile - null null
2025-06-12 19:37:33.248 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 19:37:33.354 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:37:33.373 +05:30 [INF] Route matched with {action = "SearchCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchCourses(System.String) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 19:37:33.656 +05:30 [INF] Searching courses with query: Mobile
2025-06-12 19:37:35.096 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[@__ToLower_0_contains='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE lower(c."Title") LIKE @__ToLower_0_contains
2025-06-12 19:37:35.215 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:37:35.265 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI) in 1888.4389ms
2025-06-12 19:37:35.270 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:37:35.284 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=Mobile - 200 null application/json; charset=utf-8 2103.9835ms
2025-06-12 19:37:55.877 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=flu - null null
2025-06-12 19:37:55.887 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:37:55.887 +05:30 [INF] Route matched with {action = "SearchCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchCourses(System.String) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 19:37:55.901 +05:30 [INF] Searching courses with query: flu
2025-06-12 19:37:55.928 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0_contains='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE lower(c."Title") LIKE @__ToLower_0_contains
2025-06-12 19:37:55.930 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:37:55.931 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI) in 42.9879ms
2025-06-12 19:37:55.931 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:37:55.931 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=flu - 200 null application/json; charset=utf-8 55.5859ms
2025-06-12 19:38:01.671 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=ram - null null
2025-06-12 19:38:01.679 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:38:01.679 +05:30 [INF] Route matched with {action = "SearchCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchCourses(System.String) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 19:38:01.686 +05:30 [INF] Searching courses with query: ram
2025-06-12 19:38:01.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_contains='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE lower(c."Title") LIKE @__ToLower_0_contains
2025-06-12 19:38:01.764 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 19:38:01.765 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI) in 84.981ms
2025-06-12 19:38:01.765 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 19:38:01.765 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=ram - 200 null application/json; charset=utf-8 94.2989ms
2025-06-12 19:42:10.845 +05:30 [INF] Application is shutting down...
2025-06-12 19:56:42.842 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 19:56:42.996 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 19:56:42.998 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 19:56:42.999 +05:30 [INF] Hosting environment: Development
2025-06-12 19:56:42.999 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 19:56:49.904 +05:30 [INF] Application is shutting down...
2025-06-12 22:00:51.120 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 22:00:51.277 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 22:00:51.278 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 22:00:51.279 +05:30 [INF] Hosting environment: Development
2025-06-12 22:00:51.279 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 22:01:42.632 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 22:01:42.704 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 22:01:42.805 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 4:31:42 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 22:01:42.825 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 4:31:42 PM'.
2025-06-12 22:01:42.830 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 22:01:42.853 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 22:01:43.172 +05:30 [INF] Login attempt for user muthu@gmail.com
2025-06-12 22:01:44.627 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 22:01:45.171 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 22:01:45.181 +05:30 [INF] User muthu@gmail.com logged in successfully
2025-06-12 22:01:45.186 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:01:45.210 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 2350.6564ms
2025-06-12 22:01:45.218 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 22:01:45.231 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 2603.1996ms
2025-06-12 22:01:55.968 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses - null null
2025-06-12 22:01:55.992 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 22:01:56.001 +05:30 [INF] Route matched with {action = "GetAll", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 22:01:56.019 +05:30 [INF] Fetching all courses. Page: 1, PageSize: 10
2025-06-12 22:01:56.049 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 22:01:56.051 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 22:01:56.064 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE NOT (c."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-06-12 22:01:56.101 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:01:56.119 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI) in 117.4703ms
2025-06-12 22:01:56.119 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 22:01:56.119 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses - 200 null application/json; charset=utf-8 151.661ms
2025-06-12 22:02:09.653 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=ram - null null
2025-06-12 22:02:09.659 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 22:02:09.663 +05:30 [INF] Route matched with {action = "SearchCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchCourses(System.String) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 22:02:09.675 +05:30 [INF] Searching courses with query: ram
2025-06-12 22:02:09.771 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0_contains='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE lower(c."Title") LIKE @__ToLower_0_contains
2025-06-12 22:02:09.772 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:02:09.773 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI) in 109.106ms
2025-06-12 22:02:09.773 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.SearchCourses (ElearnCourseAPI)'
2025-06-12 22:02:09.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/search?query=ram - 200 null application/json; charset=utf-8 120.5287ms
2025-06-12 22:02:18.666 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976444-aa8f-7702-b946-c7b6d855c746 - null 0
2025-06-12 22:02:18.668 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 22:02:18.671 +05:30 [INF] Route matched with {action = "Enroll", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Enroll(System.Guid) on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 22:02:18.699 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 22:02:18.740 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("CourseId", "UserId", "EnrolledAt")
VALUES (@p0, @p1, @p2);
2025-06-12 22:02:18.741 +05:30 [INF] User "0197644b-0ddb-7d71-aaa9-72cd29ec1418" successfully enrolled in course "01976444-aa8f-7702-b946-c7b6d855c746".
2025-06-12 22:02:18.742 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:02:18.743 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI) in 71.9664ms
2025-06-12 22:02:18.744 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 22:02:18.744 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976444-aa8f-7702-b946-c7b6d855c746 - 200 null application/json; charset=utf-8 77.7636ms
2025-06-12 22:03:45.315 +05:30 [INF] Application is shutting down...
2025-06-12 22:04:16.008 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 22:04:16.322 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-12 22:04:16.332 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-12 22:04:16.333 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-12 22:04:16.334 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 22:04:16.340 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-12 22:04:58.698 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 22:04:58.855 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 22:04:58.857 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 22:04:58.857 +05:30 [INF] Hosting environment: Development
2025-06-12 22:04:58.857 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 22:05:24.436 +05:30 [INF] Application is shutting down...
2025-06-12 22:05:40.841 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 22:05:41.145 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-12 22:05:41.153 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-12 22:05:41.154 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-12 22:05:41.154 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 22:05:41.158 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-12 22:05:54.478 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 22:05:54.687 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 22:05:54.689 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 22:05:54.689 +05:30 [INF] Hosting environment: Development
2025-06-12 22:05:54.689 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 22:06:28.380 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 62
2025-06-12 22:06:28.438 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 22:06:28.543 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 4:36:28 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 22:06:28.558 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 4:36:28 PM'.
2025-06-12 22:06:28.562 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 22:06:28.578 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 22:06:28.851 +05:30 [INF] Login attempt for user muthu@gmail.com
2025-06-12 22:06:30.247 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 22:06:30.756 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 22:06:30.764 +05:30 [INF] User muthu@gmail.com logged in successfully
2025-06-12 22:06:30.768 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:06:30.785 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 2203.6ms
2025-06-12 22:06:30.791 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 22:06:30.802 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 2423.7206ms
2025-06-12 22:07:24.820 +05:30 [INF] Application is shutting down...
2025-06-12 22:08:16.186 +05:30 [ERR] An error occurred using the connection to database 'ElearnDb' on server 'tcp://localhost:5432'.
2025-06-12 22:08:16.645 +05:30 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "ElearnDb";
2025-06-12 22:08:16.743 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-12 22:08:16.753 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-12 22:08:16.756 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-12 22:08:16.760 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 22:08:16.774 +05:30 [INF] Applying migration '20250609170045_FixUserRoleNavigation'.
2025-06-12 22:08:16.818 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Roles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    CONSTRAINT "PK_Roles" PRIMARY KEY ("Id")
);
2025-06-12 22:08:16.826 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Username" character varying(50) NOT NULL,
    "PasswordHash" text NOT NULL,
    "RoleId" integer NOT NULL,
    "RefreshToken" text,
    "RefreshTokenExpiryTime" timestamp with time zone,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Users_Roles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Roles" ("Id") ON DELETE RESTRICT
);
2025-06-12 22:08:16.831 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Courses" (
    "Id" uuid NOT NULL,
    "Title" character varying(100) NOT NULL,
    "Description" character varying(500),
    "InstructorId" uuid NOT NULL,
    "IsDeleted" boolean NOT NULL DEFAULT FALSE,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_Courses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Courses_Users_InstructorId" FOREIGN KEY ("InstructorId") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-06-12 22:08:16.835 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UploadedFiles" (
    "Id" uuid NOT NULL,
    "FileName" text NOT NULL,
    "FileType" character varying(10),
    "UploadedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "CourseId" uuid NOT NULL,
    CONSTRAINT "PK_UploadedFiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UploadedFiles_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE
);
2025-06-12 22:08:16.841 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Roles" ("Id", "Name")
VALUES (1, 'Admin');
INSERT INTO "Roles" ("Id", "Name")
VALUES (2, 'Instructor');
INSERT INTO "Roles" ("Id", "Name")
VALUES (3, 'Student');
2025-06-12 22:08:16.842 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Courses_InstructorId" ON "Courses" ("InstructorId");
2025-06-12 22:08:16.844 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UploadedFiles_CourseId" ON "UploadedFiles" ("CourseId");
2025-06-12 22:08:16.845 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Users_RoleId" ON "Users" ("RoleId");
2025-06-12 22:08:16.850 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Roles"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Roles") + 1,
        nextval(pg_get_serial_sequence('"Roles"', 'Id'))),
    false);
2025-06-12 22:08:16.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250609170045_FixUserRoleNavigation', '9.0.5');
2025-06-12 22:08:16.851 +05:30 [INF] Applying migration '20250610053806_AddEnrollmentSupport'.
2025-06-12 22:08:16.863 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Enrollments" (
    "UserId" uuid NOT NULL,
    "CourseId" uuid NOT NULL,
    "EnrolledAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Enrollments" PRIMARY KEY ("UserId", "CourseId"),
    CONSTRAINT "FK_Enrollments_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Enrollments_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-06-12 22:08:16.864 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Enrollments_CourseId" ON "Enrollments" ("CourseId");
2025-06-12 22:08:16.865 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250610053806_AddEnrollmentSupport', '9.0.5');
2025-06-12 22:08:16.865 +05:30 [INF] Applying migration '20250610155746_AddPathToUploadedFile'.
2025-06-12 22:08:16.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "UploadedFiles" ADD "Path" text NOT NULL DEFAULT '';
2025-06-12 22:08:16.876 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250610155746_AddPathToUploadedFile', '9.0.5');
2025-06-12 22:08:16.877 +05:30 [INF] Applying migration '20250612131023_FixUploadedFileNavigationAndDto'.
2025-06-12 22:08:16.884 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "UploadedFiles" ADD "Description" character varying(1000);
2025-06-12 22:08:16.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "UploadedFiles" ADD "Topic" character varying(150) NOT NULL DEFAULT '';
2025-06-12 22:08:16.886 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250612131023_FixUploadedFileNavigationAndDto', '9.0.5');
2025-06-12 22:08:16.886 +05:30 [INF] Applying migration '20250612163809_FixUploadedFileNavigation'.
2025-06-12 22:08:16.894 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250612163809_FixUploadedFileNavigation', '9.0.5');
2025-06-12 22:08:28.477 +05:30 [INF] User profile is available. Using '/Users/presidio/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 22:08:28.635 +05:30 [INF] Now listening on: http://localhost:5295
2025-06-12 22:08:28.637 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 22:08:28.637 +05:30 [INF] Hosting environment: Development
2025-06-12 22:08:28.637 +05:30 [INF] Content root path: /Users/presidio/Desktop/genspark-training/Day25_June_6th /ElearnCourseAPI
2025-06-12 22:09:11.311 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - application/json 81
2025-06-12 22:09:11.380 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 22:09:11.414 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 22:09:11.432 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ElearnAPI.DTOs.RegisterDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 22:09:11.700 +05:30 [INF] Registering user mano@gmail.com with role Student
2025-06-12 22:09:12.943 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 22:09:12.976 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Name" = @__name_0
LIMIT 1
2025-06-12 22:09:13.494 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "RoleId", "UpdatedAt", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsDeleted";
2025-06-12 22:09:13.517 +05:30 [INF] User mano@gmail.com registered successfully
2025-06-12 22:09:13.523 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UserDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 22:09:13.553 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI) in 2117.6061ms
2025-06-12 22:09:13.559 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 22:09:13.571 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - 200 null application/json; charset=utf-8 2261.8494ms
2025-06-12 22:09:34.727 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - application/json 82
2025-06-12 22:09:34.731 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 22:09:34.732 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ElearnAPI.DTOs.RegisterDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 22:09:34.747 +05:30 [INF] Registering user ram@gmail.com with role Instructor
2025-06-12 22:09:34.770 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 22:09:34.771 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Name" = @__name_0
LIMIT 1
2025-06-12 22:09:35.092 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "RoleId", "UpdatedAt", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsDeleted";
2025-06-12 22:09:35.092 +05:30 [INF] User ram@gmail.com registered successfully
2025-06-12 22:09:35.093 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UserDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 22:09:35.093 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI) in 360.7143ms
2025-06-12 22:09:35.093 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 22:09:35.094 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - 200 null application/json; charset=utf-8 367.1367ms
2025-06-12 22:10:20.926 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 58
2025-06-12 22:10:20.930 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 22:10:20.936 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 22:10:20.949 +05:30 [INF] Login attempt for user ram@gmail.com
2025-06-12 22:10:21.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 22:10:21.251 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 22:10:21.252 +05:30 [INF] User ram@gmail.com logged in successfully
2025-06-12 22:10:21.253 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:10:21.255 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 318.1748ms
2025-06-12 22:10:21.255 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 22:10:21.255 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 329.2236ms
2025-06-12 22:13:07.936 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/courses - application/json 219
2025-06-12 22:13:07.990 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.Create (ElearnCourseAPI)'
2025-06-12 22:13:07.993 +05:30 [INF] Route matched with {action = "Create", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ElearnAPI.DTOs.CourseDto) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 22:13:08.052 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Id", "CreatedAt", "Description", "InstructorId", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "IsDeleted";
2025-06-12 22:13:08.058 +05:30 [INF] Course created by instructor "01976502-d9b1-776e-9d87-3f43a90d078e": "01976506-1976-7548-9e7d-5d4e442eba72"
2025-06-12 22:13:08.062 +05:30 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 22:13:08.090 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.Create (ElearnCourseAPI) in 96.1643ms
2025-06-12 22:13:08.090 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.Create (ElearnCourseAPI)'
2025-06-12 22:13:08.090 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/courses - 201 null application/json; charset=utf-8 153.8371ms
2025-06-12 22:14:20.739 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - multipart/form-data; boundary=--------------------------693899669892233646352741 1570677
2025-06-12 22:14:20.745 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 22:14:20.756 +05:30 [INF] Route matched with {action = "Upload", controller = "Upload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ElearnAPI.DTOs.UploadFileDto) on controller ElearnAPI.Controllers.UploadController (ElearnCourseAPI).
2025-06-12 22:14:20.858 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UploadedFiles" ("Id", "CourseId", "Description", "FileName", "FileType", "Path", "Topic", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 22:14:20.861 +05:30 [INF] File uploaded: file_example_MP4_480_1_5MG.mp4 for Course: "01976506-1976-7548-9e7d-5d4e442eba72"
2025-06-12 22:14:20.863 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UploadedFileDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 22:14:20.866 +05:30 [INF] Executed action ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI) in 109.2786ms
2025-06-12 22:14:20.866 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 22:14:20.868 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - 200 null application/json; charset=utf-8 129.1262ms
2025-06-12 22:14:53.289 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - multipart/form-data; boundary=--------------------------331077714523938222963002 1570674
2025-06-12 22:14:53.293 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 22:14:53.293 +05:30 [INF] Route matched with {action = "Upload", controller = "Upload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ElearnAPI.DTOs.UploadFileDto) on controller ElearnAPI.Controllers.UploadController (ElearnCourseAPI).
2025-06-12 22:14:53.309 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UploadedFiles" ("Id", "CourseId", "Description", "FileName", "FileType", "Path", "Topic", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 22:14:53.310 +05:30 [INF] File uploaded: file_example_MP4_480_1_5MG.mp4 for Course: "01976506-1976-7548-9e7d-5d4e442eba72"
2025-06-12 22:14:53.310 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UploadedFileDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 22:14:53.310 +05:30 [INF] Executed action ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI) in 17.0306ms
2025-06-12 22:14:53.310 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.UploadController.Upload (ElearnCourseAPI)'
2025-06-12 22:14:53.312 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/files/upload - 200 null application/json; charset=utf-8 22.1356ms
2025-06-12 22:15:20.371 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - null null
2025-06-12 22:15:20.386 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 22:15:20.389 +05:30 [INF] Route matched with {action = "GetCoursesByInstructor", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByInstructor(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 22:15:20.398 +05:30 [INF] Fetching courses for instructor "01976502-d9b1-776e-9d87-3f43a90d078e"
2025-06-12 22:15:20.412 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 22:15:20.413 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 22:15:20.470 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__instructorId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CreatedAt", c0."Description", c0."InstructorId", c0."IsDeleted", c0."Title", c0."UpdatedAt", u."Id", u."CourseId", u."Description", u."FileName", u."FileType", u."Path", u."Topic", u."UploadedAt"
FROM (
    SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    WHERE c."InstructorId" = @__instructorId_0 AND NOT (c."IsDeleted")
    LIMIT @__p_2 OFFSET @__p_1
) AS c0
LEFT JOIN "UploadedFiles" AS u ON c0."Id" = u."CourseId"
ORDER BY c0."Id"
2025-06-12 22:15:20.487 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:15:20.489 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI) in 99.7183ms
2025-06-12 22:15:20.490 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetCoursesByInstructor (ElearnCourseAPI)'
2025-06-12 22:15:20.490 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses/instructor?page=1&pageSize=10 - 200 null application/json; charset=utf-8 119.1563ms
2025-06-12 22:26:51.438 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - application/json 60
2025-06-12 22:26:51.442 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 4:56:51 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 22:26:51.458 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 7:29:33 AM', Current time (UTC): '6/12/2025 4:56:51 PM'.
2025-06-12 22:26:51.459 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 22:26:51.459 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ElearnAPI.DTOs.LoginDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 22:26:51.460 +05:30 [INF] Login attempt for user mano@gmail.com
2025-06-12 22:26:51.473 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 22:26:51.638 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "IsDeleted" = @p1, "PasswordHash" = @p2, "RefreshToken" = @p3, "RefreshTokenExpiryTime" = @p4, "RoleId" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-06-12 22:26:51.638 +05:30 [INF] User mano@gmail.com logged in successfully
2025-06-12 22:26:51.638 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:26:51.638 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI) in 179.2138ms
2025-06-12 22:26:51.638 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Login (ElearnCourseAPI)'
2025-06-12 22:26:51.639 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/login - 200 null application/json; charset=utf-8 201.0975ms
2025-06-12 22:26:56.634 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/courses - null null
2025-06-12 22:26:56.635 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 22:26:56.638 +05:30 [INF] Route matched with {action = "GetAll", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Int32, Int32) on controller ElearnAPI.Controllers.CoursesController (ElearnCourseAPI).
2025-06-12 22:26:56.643 +05:30 [INF] Fetching all courses. Page: 1, PageSize: 10
2025-06-12 22:26:56.646 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 22:26:56.646 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-12 22:26:56.652 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE NOT (c."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-06-12 22:26:56.652 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.DTOs.CourseDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:26:56.652 +05:30 [INF] Executed action ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI) in 14.1885ms
2025-06-12 22:26:56.652 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.CoursesController.GetAll (ElearnCourseAPI)'
2025-06-12 22:26:56.653 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/courses - 200 null application/json; charset=utf-8 18.886ms
2025-06-12 22:27:33.867 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976506-1976-7548-9e7d-5d4e442eba72 - null 0
2025-06-12 22:27:33.868 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 22:27:33.871 +05:30 [INF] Route matched with {action = "Enroll", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Enroll(System.Guid) on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 22:27:33.894 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 22:27:33.919 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("CourseId", "UserId", "EnrolledAt")
VALUES (@p0, @p1, @p2);
2025-06-12 22:27:33.920 +05:30 [INF] User "01976502-84d3-783f-ad38-4a562ed36172" successfully enrolled in course "01976506-1976-7548-9e7d-5d4e442eba72".
2025-06-12 22:27:33.921 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:27:33.922 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI) in 50.0399ms
2025-06-12 22:27:33.922 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.Enroll (ElearnCourseAPI)'
2025-06-12 22:27:33.922 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/enrollments/01976506-1976-7548-9e7d-5d4e442eba72 - 200 null application/json; charset=utf-8 55.3693ms
2025-06-12 22:27:40.409 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - null null
2025-06-12 22:27:40.409 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 22:27:40.412 +05:30 [INF] Route matched with {action = "GetMyCourses", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyCourses() on controller ElearnAPI.Controllers.EnrollmentController (ElearnCourseAPI).
2025-06-12 22:27:40.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."InstructorId", c."IsDeleted", c."Title", c."UpdatedAt"
FROM "Enrollments" AS e
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
WHERE e."UserId" = @__userId_0
2025-06-12 22:27:40.428 +05:30 [INF] User "01976502-84d3-783f-ad38-4a562ed36172" retrieved their enrolled courses.
2025-06-12 22:27:40.429 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[ElearnAPI.Models.Course, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:27:40.445 +05:30 [INF] Executed action ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI) in 32.2969ms
2025-06-12 22:27:40.445 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.EnrollmentController.GetMyCourses (ElearnCourseAPI)'
2025-06-12 22:27:40.445 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/enrollments - 200 null application/json; charset=utf-8 36.3786ms
2025-06-12 22:28:08.302 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976506-1976-7548-9e7d-5d4e442eba72 - null null
2025-06-12 22:28:08.304 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 22:28:08.307 +05:30 [INF] Route matched with {action = "DownloadFiles", controller = "StudentDownload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFiles(System.Guid) on controller ElearnAPI.Controllers.StudentDownloadController (ElearnCourseAPI).
2025-06-12 22:28:08.313 +05:30 [INF] Student requested file list for course "01976506-1976-7548-9e7d-5d4e442eba72"
2025-06-12 22:28:08.317 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."UserId" = @__userId_0 AND e."CourseId" = @__courseId_1)
2025-06-12 22:28:08.326 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CourseId", u."Description", u."FileName", u."FileType", u."Path", u."Topic", u."UploadedAt"
FROM "UploadedFiles" AS u
WHERE u."CourseId" = @__courseId_0
2025-06-12 22:28:08.334 +05:30 [INF] Returning 2 files for student "01976502-84d3-783f-ad38-4a562ed36172" in course "01976506-1976-7548-9e7d-5d4e442eba72"
2025-06-12 22:28:08.334 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType5`5[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 22:28:08.338 +05:30 [INF] Executed action ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI) in 30.1875ms
2025-06-12 22:28:08.338 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.StudentDownloadController.DownloadFiles (ElearnCourseAPI)'
2025-06-12 22:28:08.338 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/v1/student/files/01976506-1976-7548-9e7d-5d4e442eba72 - 200 null application/json; charset=utf-8 35.5217ms
2025-06-12 22:32:13.340 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - application/json 81
2025-06-12 22:32:13.342 +05:30 [INF] Executing endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 22:32:13.342 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ElearnAPI.DTOs.RegisterDto) on controller ElearnAPI.Controllers.AuthController (ElearnCourseAPI).
2025-06-12 22:32:13.342 +05:30 [INF] Registering user admin@gmail.com with role Admin
2025-06-12 22:32:13.358 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."IsDeleted", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."RoleId", u."UpdatedAt", u."Username", r."Id", r."Name"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Username" = @__username_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-12 22:32:13.359 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Roles" AS r
WHERE r."Name" = @__name_0
LIMIT 1
2025-06-12 22:32:13.537 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "RoleId", "UpdatedAt", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsDeleted";
2025-06-12 22:32:13.537 +05:30 [INF] User admin@gmail.com registered successfully
2025-06-12 22:32:13.537 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[ElearnAPI.DTOs.UserDto, ElearnCourseAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 22:32:13.538 +05:30 [INF] Executed action ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI) in 195.6405ms
2025-06-12 22:32:13.538 +05:30 [INF] Executed endpoint 'ElearnAPI.Controllers.AuthController.Register (ElearnCourseAPI)'
2025-06-12 22:32:13.538 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/v1/auth/register - 200 null application/json; charset=utf-8 197.789ms
