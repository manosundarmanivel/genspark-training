<div class="min-h-screen flex font-sans bg-gray-50">
  <!-- Left Side: Branding -->
  <div class="w-1/2 hidden lg:flex flex-col justify-center items-center bg-indigo-600 text-white p-12">
    <!-- Logo Icon -->
    <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16 mb-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v6h4m6 0a10 10 0 11-20 0 10 10 0 0120 0z" />
    </svg>

    <h1 class="text-4xl font-bold mb-4 text-center">Welcome to ElearnPortal</h1>
    <p class="text-lg text-indigo-100 text-center max-w-md">
      Learn at your pace, from top instructors. Explore, enroll, and grow your skills every day.
    </p>

   
  </div>

  <!-- Right Side: Login Form -->
  <div class="w-full lg:w-1/2 flex items-center justify-center bg-white px-8 py-12">
    <div class="max-w-md w-full">
      <h2 class="text-3xl font-semibold text-gray-800 mb-6 text-center">Log in to your account</h2>

      <form [formGroup]="form" (ngSubmit)="login()" class="space-y-6">
       <!-- Email -->
<div>
  <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email address</label>
  <div class="relative">
    <span class="absolute inset-y-0 left-0 pl-3 flex items-center">
      <!-- Email icon -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 12H8m0 0l-4 4m4-4l-4-4m4 4h8" />
      </svg>
    </span>
    <input
      id="email"
      type="email"
      formControlName="email"
      class="w-full border px-10 py-2 rounded-md focus:outline-none focus:ring-2"
      [class.border-red-500]="form.get('email')?.invalid && form.get('email')?.touched"
      [class.focus:ring-red-500]="form.get('email')?.invalid && form.get('email')?.touched"
      [class.border-gray-300]="!(form.get('email')?.invalid && form.get('email')?.touched)"
      placeholder="you@example.com"
    />
  </div>
  <div *ngIf="form.get('email')?.touched && form.get('email')?.invalid" class="text-sm text-red-600 mt-1">
    <div *ngIf="form.get('email')?.errors?.['required']">Email is required</div>
    <div *ngIf="form.get('email')?.errors?.['email']">Enter a valid email</div>
  </div>
</div>

<!-- Password -->
<div>
  <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
  <div class="relative">
    <span class="absolute inset-y-0 left-0 pl-3 flex items-center">
      <!-- Password icon -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 15v2m0-10a4 4 0 014 4v2a4 4 0 01-4 4m0-10a4 4 0 00-4 4v2a4 4 0 004 4" />
      </svg>
    </span>
    <input
      id="password"
      type="password"
      formControlName="password"
      class="w-full border px-10 py-2 rounded-md focus:outline-none focus:ring-2"
      [class.border-red-500]="form.get('password')?.invalid && form.get('password')?.touched"
      [class.focus:ring-red-500]="form.get('password')?.invalid && form.get('password')?.touched"
      [class.border-gray-300]="!(form.get('password')?.invalid && form.get('password')?.touched)"
      placeholder="••••••••"
    />
  </div>
  <div *ngIf="form.get('password')?.touched && form.get('password')?.invalid" class="text-sm text-red-600 mt-1">
    Password is required
  </div>
</div>


        <!-- Error -->
        <div *ngIf="error" class="text-sm text-red-600">{{ error }}</div>

        <!-- Submit -->
<button
  type="submit"
  [disabled]="loading$ | async"
  class="w-full py-2.5 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 transition duration-200 flex items-center justify-center gap-2"
>
  <ng-container *ngIf="!(loading$ | async); else loadingSpinner">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 13l4 4L19 7" />
    </svg>
    Log In
  </ng-container>

  <ng-template #loadingSpinner>
    <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor"
        d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
    </svg>
    Loading...
  </ng-template>
</button>



        <!-- Extra links -->
        <div class="text-sm text-center mt-4 text-gray-600">
          Don’t have an account?
          <a [routerLink]="['/register']" class="text-indigo-600 hover:underline">Sign up</a>
        </div>
      </form>
    </div>
  </div>
</div>
