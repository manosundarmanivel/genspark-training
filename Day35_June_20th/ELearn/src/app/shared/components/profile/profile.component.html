<div class="max-w-xl mx-auto mt-10 p-6 bg-white shadow-md rounded-xl" *ngIf="!isLoading">
  <h2 class="text-2xl font-bold text-indigo-700 mb-6">My Profile</h2>

  <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">
    <div class="space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-700">Username</label>
        <input type="text" class="mt-1 block w-full p-2 border rounded bg-gray-100 cursor-not-allowed" [value]="profile.username" disabled />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Role</label>
        <input type="text" class="mt-1 block w-full p-2 border rounded bg-gray-100 cursor-not-allowed" [value]="profile.role" disabled />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Full Name</label>
        <input type="text" formControlName="fullName" class="mt-1 block w-full p-2 border rounded" [readonly]="!isEditing" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Phone Number</label>
        <input type="text" formControlName="phoneNumber" class="mt-1 block w-full p-2 border rounded" [readonly]="!isEditing" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Profile Picture URL</label>
        <input type="text" formControlName="profilePictureUrl" class="mt-1 block w-full p-2 border rounded" [readonly]="!isEditing" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Bio</label>
        <textarea formControlName="bio" rows="3" class="mt-1 block w-full p-2 border rounded" [readonly]="!isEditing"></textarea>
      </div>
    </div>

    <div class="mt-6 flex gap-4" *ngIf="!isEditing">
      <button type="button" (click)="enableEdit()" class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700">Edit</button>
    </div>

    <div class="mt-6 flex gap-4" *ngIf="isEditing">
      <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">Save</button>
      <button type="button" (click)="cancelEdit()" class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">Cancel</button>
    </div>

    <div class="mt-4 text-green-600" *ngIf="successMessage">{{ successMessage }}</div>
    <div class="mt-4 text-red-600" *ngIf="errorMessage">{{ errorMessage }}</div>
  </form>
</div>
